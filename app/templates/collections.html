{% extends "base.html" %}
{% block title %}Design Tinder Â· Collections{% endblock %}
{% block content %}

  <div class="mb-6 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <a href="/" class="inline-flex items-center gap-2 text-indigo-400 hover:underline text-sm">
        <svg aria-hidden="true" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
          <path d="M11.75 4.75a.75.75 0 0 1 0 1.06L7.56 10l4.19 4.19a.75.75 0 1 1-1.06 1.06l-4.72-4.72a.75.75 0 0 1 0-1.06l4.72-4.72a.75.75 0 0 1 1.06 0z"/>
        </svg>
        Back
      </a>
      <h1 class="text-xl font-semibold text-zinc-100">Collections</h1>
    </div>
  </div>

  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
    {% for col in collections %}
      <a href="/collection/{{ col.name }}" class="block rounded-xl overflow-hidden border border-zinc-800 bg-zinc-900 hover:border-zinc-700">
        <div class="aspect-square grid grid-cols-2 grid-rows-2 gap-[2px] bg-zinc-800">
          {% set i1 = col.first3[0] if col.first3|length > 0 else None %}
          {% set i2 = col.first3[1] if col.first3|length > 1 else None %}
          {% set i3 = col.first3[2] if col.first3|length > 2 else None %}

          <div class="bg-zinc-900">
            {% if i1 %}
              <img src="/thumb/{{ col.name }}/{{ i1 }}" alt="" class="w-full h-full object-cover" loading="lazy" />
            {% endif %}
          </div>
          <div class="bg-zinc-900">
            {% if i2 %}
              <img src="/thumb/{{ col.name }}/{{ i2 }}" alt="" class="w-full h-full object-cover" loading="lazy" />
            {% endif %}
          </div>
          <div class="bg-zinc-900">
            {% if i3 %}
              <img src="/thumb/{{ col.name }}/{{ i3 }}" alt="" class="w-full h-full object-cover" loading="lazy" />
            {% endif %}
          </div>

          {% if col.extra > 0 %}
            <div class="bg-zinc-900 flex items-center justify-center">
              <span class="text-sm font-medium text-zinc-200">+{{ col.extra }}</span>
            </div>
          {% else %}
            <div class="bg-zinc-900"></div>
          {% endif %}
        </div>
      </a>
    {% endfor %}

    {% if not collections %}
      <div class="col-span-full text-sm text-zinc-400">No collections found. Create subfolders in <code>photos/</code> and add images.</div>
    {% endif %}
  </div>

{% endblock %}
